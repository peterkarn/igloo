const navOpen=document.querySelector(".menu-icon"),navClose=document.querySelector(".header__nav-close"),navWrapper=document.querySelector(".header__nav"),headerLogo=document.querySelector(".header__logo"),navLink=document.querySelectorAll(".header__list-item a"),main=document.querySelector(".main"),body=document.querySelector(".body"),headerBtn=document.querySelector(".header__btn");navOpen.addEventListener("click",(function(){navWrapper.classList.add("active"),headerLogo.classList.add("blured"),navOpen.classList.add("blured"),main.classList.add("blured"),body.classList.add("locked"),this.setAttribute("aria-label","close menu"),this.setAttribute("aria-expanded","true")})),navClose.addEventListener("click",(function(){navWrapper.classList.remove("active"),this.setAttribute("aria-label",""),this.setAttribute("aria-expanded",""),headerLogo.classList.remove("blured"),main.classList.remove("blured"),navOpen.classList.remove("blured"),body.classList.remove("locked")})),navLink.forEach(e=>{e.addEventListener("click",(function(){headerLogo.classList.remove("blured"),main.classList.remove("blured"),navWrapper.classList.remove("active"),navOpen.classList.remove("blured")}))}),headerBtn.addEventListener("click",()=>{headerLogo.classList.remove("blured"),navWrapper.classList.remove("active"),navOpen.classList.remove("blured"),main.classList.remove("blured")});let scrollpos=window.scrollY,header=document.querySelector(".header");function add_class_on_scroll(){header.classList.add("scrollable"),main.classList.add("scrollable")}function remove_class_on_scroll(){header.classList.remove("scrollable"),main.classList.remove("scrollable")}function testWebP(e){var t=new Image;t.onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}window.addEventListener("scroll",(function(){scrollpos=window.scrollY,scrollpos>70?add_class_on_scroll():remove_class_on_scroll()})),testWebP((function(e){1==e?document.querySelector("body").classList.add("webp"):document.querySelector("body").classList.add("no-webp")})),document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector(".tabs"),t=document.querySelectorAll(".tabs__item"),a=document.querySelectorAll(".tabs__content");e&&t.forEach(e=>{e.addEventListener("click",(function(){const t=e.dataset.tabsPath;s(t)}))});const s=e=>{t.forEach(e=>{e.classList.remove("tabs__item_active")}),document.querySelector(`[data-tabs-path="${e}"]`).classList.add("tabs__item_active"),a.forEach(e=>{e.classList.remove("tabs__content_active","fade-in-top")}),document.querySelector(`[data-tabs-target="${e}"]`).classList.add("tabs__content_active","fade-in-top")}}),formField=document.querySelectorAll(".form__field"),select=document.querySelectorAll(".select"),select.forEach(e=>{e.onfocus=function(){e.parentNode.classList.add("focus")},e.onblur=function(){e.parentNode.classList.remove("focus")}});var mySwiper=new Swiper(".reviews__container",{direction:"horizontal",loop:!0,spaceBetween:20,breakpoints:{320:{slidesPerView:1.1},1400:{slidesPerView:1.3,autoHeight:!1}},pagination:{el:".reviews__pagination",type:"fraction"},navigation:{nextEl:".reviews__prev",prevEl:".reviews__next"},scrollbar:{el:".reviews__scrollbar",draggable:!0}});document.addEventListener("click",(function(e){var t=(e=e||window.event).target||e.srcElement;if(t.hasAttribute("data-toggle")&&"modal"==t.getAttribute("data-toggle")&&t.hasAttribute("data-target")){var a=t.getAttribute("data-target");document.getElementById(a).classList.add("open"),body.classList.add("locked"),header.classList.add("blur"),main.classList.add("blur"),e.preventDefault()}(t.hasAttribute("data-dismiss")&&"modal"==t.getAttribute("data-dismiss")||t.classList.contains("modal"))&&(e.preventDefault(),document.querySelector('[class="modal open"]').classList.remove("open"),body.classList.remove("locked"),header.classList.remove("blur"),main.classList.remove("blur"),formValue.setAttribute("value","Пользователь не указал значение"))}),!1);const phoneInput=document.querySelectorAll('input[type="tel"]'),im=new Inputmask("+7 (999) 999-99-99");im.mask(phoneInput);let validateForms=function(e,t,a,s){new window.JustValidate(e,{rules:t,messages:{name:{required:"Обязательное поле",minLength:"Минимум 3 символа"},tel:{required:"Обязательное поле"}},submitHandler:function(e){let t=new FormData(e),a=new XMLHttpRequest;a.onreadystatechange=function(){4===a.readyState&&(200===a.status?alert("Ваши данные успешно отправлены"):console.log("waiting"))},a.open("POST","mail.php",!0),a.send(t),e.reset()}})};validateForms(".form",{tel:{required:!0}},".thanks-popup","send goal"),validateForms(".request__form",{tel:{required:!0}},".thanks-popup","send goal"),validateForms(".modal-form",{tel:{required:!0}},".thanks-popup","send goal");const formButton=document.querySelectorAll(".btn"),formValue=document.querySelector(".order");formButton.forEach(e=>{e.addEventListener("click",(function(){formValue.setAttribute("value",e.getAttribute("value"))}))});